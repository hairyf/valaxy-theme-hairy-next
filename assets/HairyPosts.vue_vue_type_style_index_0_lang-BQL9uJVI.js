import{q as M,i as g,a6 as D,a7 as V,d as b,y as N,b as a,c as i,e as y,w as k,g as m,F as x,l as w,k as z,t as f,M as h,h as e,a8 as I,a5 as T,j as P,a9 as R,u as A,x as E,f as $,N as Y,O as S,z as O,A as F,_ as U,n as q,aa as G,ab as J,ac as K,ad as Q,I as W}from"./app-CB06-Kky.js";import{E as j}from"./index-CTGu34kL.js";const X=D(V);function C(){const c=M(),n=X("--hairy-theme:post-layout",null);return g({get:()=>{var o;return n.value||((o=c.value.layout)==null?void 0:o.post)||"image"},set:o=>n.value=o})}const Z={class:"pagination"},ee=e("div",{"i-ri-arrow-left-s-line":""},null,-1),se=e("div",{"i-ri-arrow-right-s-line":""},null,-1),te=b({__name:"ValaxyPagination",props:{curPage:{},total:{},pageSize:{}},emits:["pageChange"],setup(c,{emit:n}){const l=c,o=n,d=g(()=>Math.ceil(l.total/l.pageSize)),r=g(()=>l.curPage===1||l.curPage===d.value?3:2);function u(t){return t===1||t===d.value?!0:t>l.curPage-r.value&&t<l.curPage+r.value}function p(t){return o("pageChange",t),t===1?"/":`/page/${t}`}return(t,v)=>{const s=N("RouterLink");return a(),i("nav",Z,[t.curPage!==1?(a(),y(s,{key:0,class:"page-number",to:p(t.curPage-1),"aria-label":"prev"},{default:k(()=>[ee]),_:1},8,["to"])):m("v-if",!0),(a(!0),i(x,null,w(d.value,_=>(a(),i(x,null,[u(_)?(a(),y(s,{key:_,class:h(["page-number",t.curPage===_&&"active"]),to:p(_)},{default:k(()=>[z(f(_),1)]),_:2},1032,["class","to"])):_===t.curPage-r.value?(a(),i("span",{key:`prev-space-${_}`,class:"space",disabled:""}," ... ")):_===t.curPage+r.value?(a(),i("span",{key:`next-space-${_}`,class:"space",disabled:""}," ... ")):m("v-if",!0)],64))),256)),t.curPage!==d.value?(a(),y(s,{key:1,class:"page-number",to:p(t.curPage+1),"aria-label":"next"},{default:k(()=>[se]),_:1},8,["to"])):m("v-if",!0)])}}}),ae={class:"py-12"},oe={class:"space-y-2 xl:grid xl:grid-cols-4 xl:space-y-0 xl:items-baseline"},ne={class:"space-y-5 xl:col-span-4"},re={class:"space-y-6"},le={class:"text-2xl leading-8 font-bold tracking-tight"},ie=["href"],ce=["innerHTML"],ue={class:"text-base leading-6 font-medium"},de=["href"],pe=e("span",{class:"hidden md:block"},"Read more",-1),_e=e("span",null," →",-1),ge=[pe,_e],ve=b({__name:"HairyArticleText",props:{post:{}},setup(c){const n=c,l=C(),o=g(()=>l.value==="text"?I(n.post.excerpt):n.post.excerpt);return(d,r)=>(a(),i("li",ae,[e("article",oe,[e("div",ne,[e("div",re,[e("h2",le,[e("a",{class:"st-text",href:d.post.path},f(d.post.title),9,ie)]),o.value?(a(),i("div",{key:0,class:"prose max-w-none text-gray-500",innerHTML:o.value},null,8,ce)):m("v-if",!0)]),e("div",ue,[e("a",{class:"link","aria-label":"read more",href:d.post.path},ge,8,de)])])])]))}}),fe={class:"divide-y divide-gray-200 dark:divide-gray-700"},me=b({__name:"HairyPostTextsList",props:{type:{},posts:{}},setup(c){const n=c,l=T(),o=g(()=>n.posts||l.value);return(d,r)=>{const u=ve;return a(),i("ul",fe,[(a(!0),i(x,null,w(o.value,(p,t)=>(a(),y(R,{key:t,name:"fade"},{default:k(()=>[P(u,{post:p},null,8,["post"])]),_:2},1024))),128))])}}}),ye=c=>(O("data-v-7068eec7"),c=c(),F(),c),he={class:"flex justify-between items-center"},ke={class:"flex justify-end gap-2 text-size-sm lt-sm:text-size-xs"},xe={class:"lt-sm:hidden"},$e=["src"],be={class:"flex-1 flex flex-col justify-between py-2 dark:py-0"},Pe={class:"flex-1 text-size-sm"},we={class:"line-clamp-text"},Ce={class:"flex justify-between items-center"},He={class:"text-base leading-6 font-medium"},ze={key:0},Se=ye(()=>e("span",{class:"hidden md:block"},"Read more",-1)),Te={key:1},Le=b({__name:"HairyArticleImage",props:{post:{},reverse:{type:Boolean}},setup(c){const n=c,l=A(),o=C(),d=g(()=>o.value.includes("slice")),r=g(()=>{var s;return(s=n.post.image)==null?void 0:s.toString()}),u=g(()=>I(n.post.excerpt)),p=E();function t(){n.post.path&&l.push(n.post.path)}function v(s=[]){l.push({path:`/categories/${S(s).join("/")}`})}return(s,_)=>{var H;return a(),i("li",{class:h(["HairyArticleImage mb-10 py-2",[d.value&&"slice",s.reverse&&"reverse"]])},[e("article",null,[e("div",he,[e("a",{class:h(["text-size-2xl font-bold truncate cursor-pointer lt-sm:text-size-lg",[s.reverse?"order-last":"order-first"]]),onClick:t},f(s.post.title),3),e("div",ke,[e("span",null,f($(Y)(s.post.date).format("YYYY-MM-DD")),1),e("span",null,f(s.post.wordCount)+"字",1),e("span",xe,f(s.post.readingTime)+"分钟",1)])]),e("div",{class:h(["h-200px lt-sm:h-150px flex bg-light-2 dark:bg-transparent rounded-5",[s.reverse?"pl-4":"pr-4"]])},[e("div",{class:h(["flex-1 post-image-content",[s.reverse?"order-last":"order-first"]])},[e("img",{class:"post-image rounded-1 w-full h-full object-cover cursor-pointer",src:r.value,onClick:t},null,8,$e)],2),e("div",be,[e("div",Pe,[e("div",we,f(u.value),1)]),e("div",Ce,[e("a",{class:h(["cursor-pointer",[s.reverse&&"order-1"]])},[(H=s.post.categories)!=null&&H.length?(a(),i("span",{key:0,onClick:_[0]||(_[0]=L=>v(s.post.categories))},f($(p).t($(S)(s.post.categories).at(-1)||"")),1)):m("v-if",!0)],2),e("div",He,[e("a",{class:"link flex gap-2 cursor-pointer","aria-label":"read more",onClick:t},[s.reverse?(a(),i("span",ze,"←")):m("v-if",!0),Se,s.reverse?m("v-if",!0):(a(),i("span",Te,"→"))])])])])],2)])],2)}}}),je=U(Le,[["__scopeId","data-v-7068eec7"]]),Ie={class:"divide-y divide-gray-200 dark:divide-gray-700"},Re=b({__name:"HairyPostImageList",props:{type:{},posts:{}},setup(c){const n=c,l=C(),o=g(()=>l.value.includes("reverse")),d=T(),r=g(()=>n.posts||d.value);return(u,p)=>{const t=je;return a(),i("ul",Ie,[(a(!0),i(x,null,w(r.value,(v,s)=>(a(),y(R,{key:s,name:"fade"},{default:k(()=>[P(t,{post:v,reverse:o.value&&s%2!==0},null,8,["post","reverse"])]),_:2},1024))),128))])}}}),Ae={class:"border-b border-[var(--hy-c-divider)] flex-wrap items-center flex justify-between mb-4 gap-2"},Be=e("div",{class:"flex-shrink-0 w-100px"}," 最近更新： ",-1),Me={class:"flex-1 flex items-center justify-end gap-2 flex-wrap"},De=e("div",{class:"lt-md:hidden"}," | ",-1),Ve={class:"lt-md:hidden"},Ne={class:"tags flex-center gap-2"},Ee=e("div",{class:"i-material-symbols-bookmarks"},null,-1),Ye=e("div",{class:"lt-md:hidden"}," | ",-1),Oe={class:"lt-md:hidden flex items-center gap-2"},Fe=e("div",{class:"i-material-symbols-folder-open-rounded text-14px"},null,-1),Ue=b({__name:"HairyUpdatedPost",props:{type:{},posts:{}},setup(c){const n=c,l=A(),o=g(()=>{const r=[...n.posts].map(u=>({...u,date:u.date instanceof Date?u.date.valueOf():new Date(u.date||Date.now()).valueOf()}));return r.sort((u,p)=>p.date-u.date),r[0]});function d(r=[]){l.push({path:`/categories/${S(r).join("/")}`})}return(r,u)=>{var t;const p=q;return a(),i("div",Ae,[Be,e("div",Me,[P(p,{href:o.value.path},{default:k(()=>[z(f(o.value.title),1)]),_:1},8,["href"]),(t=o.value.tags)!=null&&t.length?(a(),i(x,{key:0},[De,e("div",Ve,[e("div",Ne,[Ee,(a(!0),i(x,null,w(o.value.tags,v=>(a(),y($(j),{key:v,size:"small",class:"dark:bg-dark-50 cursor-pointer border-none!",onClick:s=>r.$router.push(`/tags/${v}`)},{default:k(()=>[z(f(v),1)]),_:2},1032,["onClick"]))),128))])])],64)):m("v-if",!0),o.value.categories?(a(),i(x,{key:1},[Ye,e("div",Oe,[Fe,P($(j),{size:"small",class:"dark:bg-dark-50 cursor-pointer border-none!",onClick:u[0]||(u[0]=v=>d(o.value.categories))},{default:k(()=>[z(f($(S)(o.value.categories).map(r.$t).join("/")),1)]),_:1})])],64)):m("v-if",!0)])])}}}),qe=["onClick"],Ge=b({__name:"HairyPostToggleLayout",setup(c){const n=C(),l=[{layout:"image:slice:reverse",icon:"i-fluent-text-align-distributed-24-filled"},{layout:"image:slice",icon:"i-fluent-text-align-left-16-filled"},{layout:"image",icon:"i-fluent-text-align-justify-20-filled"},{layout:"markdown",icon:"i-fluent-markdown-20-filled"},{layout:"text",icon:"i-fluent-code-text-16-filled"}],o=G(),{headerRef:d}=J(o),{height:r}=K(d),u=Q(typeof document<"u"?document:void 0),p=g(()=>u.y.value>r.value);return(t,v)=>(a(),i("div",{class:h(["inline-flex gap-2 sticky top-15 inset-0 rounded-2 transition-colors duration-200",[p.value&&"bg-white bg-opacity-85 dark:bg-black dark:bg-opacity-80 z-100"]])},[(a(),i(x,null,w(l,s=>e("div",{key:s.layout,class:h(["p-2 rounded-full cursor-pointer",[$(n)===s.layout&&"text-primary"]]),onClick:_=>n.value=s.layout},[e("div",{class:h(["text-size-xl",s.icon])},null,2)],10,qe)),64))],2))}}),Je={class:"mt-8"},We=b({__name:"HairyPosts",props:{type:{},posts:{},curPage:{default:1},pagination:{type:Boolean,default:!1},updated:{type:Boolean}},setup(c){const n=c,l=C(),o=W(7),d=T({type:n.type||""}),r=g(()=>n.posts||d.value),u=g(()=>r.value.slice((n.curPage-1)*o.value,n.curPage*o.value)),p=g(()=>n.pagination?u.value:r.value);return(t,v)=>{const s=Ge,_=Ue,H=Re,L=me,B=te;return a(),i("div",Je,[P(s),t.updated?(a(),y(_,{key:0,posts:r.value},null,8,["posts"])):m("v-if",!0),$(l).includes("image")?(a(),y(H,{key:1,posts:p.value},null,8,["posts"])):(a(),y(L,{key:2,posts:p.value},null,8,["posts"])),t.pagination?(a(),y(B,{key:3,class:"mb-6","cur-page":t.curPage,"page-size":o.value,total:r.value.length},null,8,["cur-page","page-size","total"])):m("v-if",!0)])}}});export{We as _};
